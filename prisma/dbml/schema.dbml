//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table User {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  email String [unique, not null]
  phone String
  password String [not null]
  firstName String
  lastName String
  verified Boolean [not null, default: false]
  role Role [not null]
  vendorId String
  vendor Vendor
}

Table Vendor {
  id String [pk]
  name String [not null]
  slug String [not null]
  active Boolean [not null, default: true]
  heroImage String
  logo String
  info VendorInfo
  bank VendorBankInfo
  settings VendorSettings
  products Product [not null]
  categories Category [not null]
  tags Tag [not null]
  coupons Coupon [not null]
  orders Order [not null]
  booking Booking [not null]
  ownerId String [unique, not null]
  owner User
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table Tag {
  id String [pk]
  title String [not null]
  title_ar String [not null]
  vendorId String [not null]
  vendor Vendor [not null]
  products Product [not null]
  productIds String[] [not null]
  active Boolean [not null, default: true]
  workdays WorkDay[] [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  bookings Booking [not null]
}

Table Category {
  id String [pk]
  title String [not null]
  title_ar String [not null]
  vendorId String [not null]
  Vendor Vendor [not null]
  tagIds String[] [not null]
  active Boolean [not null, default: true]
  sortOrder Int [not null, default: 0]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  Product Product [not null]
}

Table Coupon {
  id String [pk]
  code String [not null]
  discount Float [not null]
  vendorId String [not null]
  vendor Vendor [not null]
  active Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table VariantModel {
  id String [pk]
  vendorId String [not null]
  title String
  title_ar String
  options VariantOptions[] [not null]
}

Table Product {
  id String [pk]
  slug String [not null]
  sku String
  title String [not null]
  title_ar String [not null]
  description String [not null]
  description_ar String [not null]
  image String [not null]
  type ProductType [not null]
  vendorId String [not null]
  vendor Vendor [not null]
  tagIds String[] [not null]
  tags Tag [not null]
  category Category
  categoryId String
  active Boolean [not null, default: true]
  minPreorderDays Int
  noOfSeats Int
  itemsInStock Int
  variants Variant[] [not null]
  attributes ProductAttribute[] [not null]
  sortOrder Int [not null, default: 0]
  CartItem CartItem [not null]
  attendanceType AttendanceType
  meetingLink String
  location String
  endTime Boolean [default: false]
  customerLocation Boolean [default: false]
  duration Int
  startDate DateTime [default: `now()`, not null]
  endDate DateTime [default: `now()`, not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  Booking Booking [not null]
}

Table CartItem {
  id String [pk]
  productId String [not null]
  product Product [not null]
  productVariant String
  Variant Variant[] [not null]
  quantity Int [not null, default: 1]
  tagId String
  slots BookingTime[] [not null]
  cartId String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  Cart Cart
}

Table Cart {
  id String [pk]
  items CartItem [not null]
  customerId String [unique, not null]
  totalPrice Float [not null]
  appliedCoupon String
  finalPrice Float [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  Order Order [not null]
  booking Booking [not null]
}

Table Order {
  id String [pk]
  orderId String [not null]
  cartId String [not null]
  Cart Cart [not null]
  customerInfo CustomerInfo [not null]
  deliveryMethod DeliveryMethods
  paymentMethod PaymentMethods
  status OrderStatus [not null]
  vendorId String [not null]
  Vendor Vendor [not null]
  booking Booking [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table Booking {
  id String [pk]
  cartId String [not null]
  cart Cart [not null]
  orderId String
  order Order
  productId String [not null]
  product Product [not null]
  vendorId String [not null]
  vendor Vendor [not null]
  tagId String [not null]
  tag Tag [not null]
  status BookingStatus [not null]
  times BookingTime[] [not null]
  holdTimestamp DateTime [default: `now()`]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Enum Role {
  ADMIN
  USER
}

Enum DeliveryMethods {
  MANDOOB
  SMSA
  PICKUP
}

Enum PaymentMethods {
  CASH
  ONLINE
  BANK_TRANSFER
  STORE
}

Enum Weekday {
  Sunday
  Monday
  Tuesday
  Wednesday
  Thursday
  Friday
  Saturday
}

Enum ProductType {
  PRODUCT
  SERVICE
  WORKSHOP
}

Enum AttendanceType {
  ONLINE
  PHYSICAL
}

Enum OrderStatus {
  CREATED
  PENDING
  COMPLETED
  CONFIRMED
  REJECTED
  FAILED
}

Enum BookingStatus {
  HOLD
  PENDING
  CONFIRMED
  REJECTED
}

Ref: Vendor.ownerId - User.id

Ref: Tag.vendorId > Vendor.id

Ref: Tag.productIds > Product.id

Ref: Category.vendorId > Vendor.id

Ref: Coupon.vendorId > Vendor.id

Ref: Product.vendorId > Vendor.id

Ref: Product.tagIds > Tag.id

Ref: Product.categoryId > Category.id

Ref: CartItem.productId > Product.id

Ref: CartItem.cartId > Cart.id

Ref: Order.cartId > Cart.id

Ref: Order.vendorId > Vendor.id

Ref: Booking.cartId > Cart.id

Ref: Booking.orderId > Order.id

Ref: Booking.productId > Product.id

Ref: Booking.vendorId > Vendor.id

Ref: Booking.tagId > Tag.id